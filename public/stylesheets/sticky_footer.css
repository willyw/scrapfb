html, body { height: 100%;}
#wrap { min-height: 100%;}
/*With the assumption that the footer's height == 150px*/
#main { overflow:auto; padding-bottom: 50px;}  
#footer { position:relative; margin-top: -50px; height: 50px; clear:both; background-color: rgb(200,200,200);}
body:before { content : ""; height:100%; float:left; width:0; margin-top: -32767px;}